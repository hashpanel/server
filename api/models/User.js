// api/models/User.js

var _ = require('lodash');
var _super = require('sails-permissions/api/models/User');

_.merge(exports, _super);
_.merge(exports, {

  // Extend with custom logic here by adding additional fields, methods, etc.

  /**
   * For example:
   *
   * foo: function (bar) {
   *   bar.x = 1;
   *   bar.y = 2;
   *   return _super.foo(bar);
   * }
   */

  afterCreate: function (user, next) {
    Group.create({
        name: 'default',
        user: user.id
      })
      .then(function (group) {
        next();
      })
      .catch(next);
  }
});
